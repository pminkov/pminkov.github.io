<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Thoughts on C programming.</title>
        <link rel="stylesheet" href="http://pminkov.github.io/blog/theme/css/main.css" />
        <link href="http://pminkov.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Petko's Coding Blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://pminkov.github.io/blog/">Petko's Coding Blog </a></h1>
                <nav><ul>
                    <li><a href="http://pminkov.github.io/blog/category/cloud.html">Cloud</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/django.html">Django</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/linux.html">Linux</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/machine-learning.html">Machine Learning</a></li>
                    <li class="active"><a href="http://pminkov.github.io/blog/category/misc.html">Misc</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://pminkov.github.io/blog/thoughts-on-c-programming.html" rel="bookmark"
           title="Permalink to Thoughts on C programming.">Thoughts on C programming.</a></h1>
    </header>

    <div class="entry-content">
<div class="post-info">
        <abbr class="published" title="2017-01-01T17:58:00-08:00">
                Published: Sun 01 January 2017
in <a href="http://pminkov.github.io/blog/category/misc.html">Misc</a>
        </abbr>

</div><!-- /.post-info -->    </div>
    <div>
      <p>I recently wrote a <a href="https://github.com/pminkov/webserver">webserver</a> in C and wanted to share my thoughts on writing code in C. This was practically my first somewhat substantial C project. I've had two jobs in which I was writing C++, but I never programmed in C.</p>
<p>So, in no particular order, here are my thoughts on C.
<br>
<br>
<br></p>
<h3>The language is simple.</h3>
<p>C is a pretty simple language. Unlike complicated languages like Scala, C has a very limited set of language features. There's a good side to that - you can start faster with C and I appreciate the simplicity coming from working with a more limited language. On the other hand, you have to write more code to do certain things.
<br>
<br>
<br></p>
<h3>Lack of object oriented programming makes writing code more difficult.</h3>
<p>It's difficult to organize code when you don't have classes. It seems like your option is to just put pieces of code in separate files if you want to do that. But then, function names will still have to be different. So you end up with a lot of functions containing the name of the type they're supposed to operate on, like maybe <code>add_to_tree</code> and then <code>remove_from_tree</code> instead of simple <code>add</code> and <code>remove</code> methods on a <code>Tree</code> class.
<br>
<br>
<br></p>
<h3>Not knowing the size of arrays and strings in advance is difficult.</h3>
<p>Unlike C++, C doesn't have its STL library, so if you're allocating arrays or strings, you often have to know their size in advance. Imagine running a process with <code>popen</code> and having to store its output to a string. You can't know the size of the output in advance, so you have to allocate a buffer of a certain size, expecting it to be big enough in all cases. That's of course impossible, so you'll need to code your own variable size string.</p>
<p>C library functions are also not immune to this problem. For example, the <code>getcwd</code> is a function that gets the current working directory. It receives a buffer of a certain size and writes the directory name to it. If the buffer is smaller than the directory name, the function will return NULL.</p>
<p>Luckily, in a lot of cases, you'd know the size of the data in advance, but writing code that has to do with strings and arrays is still more difficult than just using a STL <code>vector</code> or a <code>stack</code>.
<br>
<br>
<br></p>
<h3>You have to be meticulous in checking return codes of standard library functions.</h3>
<p>Most of the functions in the C standard library return something that indicates the success or failure of the function. Unlike languages that have exceptions, if you don't check the return values, it's entirely possible that your code will continue to execute and ignore some errors. Since often times you'll find yourself thinking "I doubt this can fail", writing good C code requires an extra level of discipline.</p>
    </div><!-- /.entry-content -->
    <div class="comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'pminkov-blog';
        var disqus_identifier = 'thoughts-on-c-programming.html';
        var disqus_url = 'http://pminkov.github.io/blog/thoughts-on-c-programming.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//pminkov-blog.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://pminkov.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <!--
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                  Blah blha blah
                </address>
        </footer>
        -->
        <!-- /#contentinfo -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-243631-7', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript">
    var disqus_shortname = 'pminkov-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>