<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>What I learned from reading Dive into Python.</title>
        <link rel="stylesheet" href="http://pminkov.github.io/blog/theme/css/main.css" />
        <link href="http://pminkov.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Petko's Coding Blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://pminkov.github.io/blog/">Petko's Coding Blog </a></h1>
                <nav><ul>
                    <li><a href="http://pminkov.github.io/blog/category/cloud.html">Cloud</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/django.html">Django</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/linux.html">Linux</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/machine-learning.html">Machine Learning</a></li>
                    <li><a href="http://pminkov.github.io/blog/category/misc.html">Misc</a></li>
                    <li class="active"><a href="http://pminkov.github.io/blog/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://pminkov.github.io/blog/what-i-learned-from-reading-dive-into-python.html" rel="bookmark"
           title="Permalink to What I learned from reading Dive into Python.">What I learned from reading Dive into Python.</a></h1>
    </header>

    <div class="entry-content">
<div class="post-info">
        <div class="published" title="2016-06-15T09:57:00-07:00">
                Published: Wed 15 June 2016
in <a href="http://pminkov.github.io/blog/category/python.html">Python</a>
        </div>

</div><!-- /.post-info -->    </div>
    <div>
      <p>I recently started reading <a href="http://www.diveintopython.net/toc/index.html">Dive into Python</a>. I've been meaning to fill some gaps in my Python knowledge, since I've used the language for about ten years, but feel like I have just picked whatever parts I needed to do my work and don't have a very solid base.</p>
<p>I'll summarize some of the new things I learned from this book:</p>
<h3 id="chapter-2-your-first-python-program">Chapter 2 (Your First Python Program)</h3>
<ul>
<li><code>sys.path</code> contains the list of directories that Python uses to lookup module imports.</li>
<li>One use of the <code>__name__</code> attribute is to write testing code. When a module is imported <code>__name__</code> is the name of the module. When a module python file is executed from the command line <code>__name__</code> is equal to <code>__main__</code>. Personally this feels like a bit of a hack to me, since you can use something like say Django's unit testing platform, but it might come handy sometime.</li>
</ul>
<h3 id="chapter-3-native-datatypes">Chapter 3 (Native Datatypes)</h3>
<ul>
<li>Here's a cool trick mentioned in this chapter:
<code>python
(MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY) = range(7)</code></li>
</ul>
<h3 id="chapter-4-the-power-of-introspection">Chapter 4 (The Power Of Introspection):</h3>
<ul>
<li>Some useful functions are mentioned: <code>dir</code> (try on a module or an object instance), <code>callable</code>, <code>getattr</code>, <code>__doc__</code>.</li>
</ul>
<p>So you can do something interesting, like this:
```
class Sum:
  """Sums numbers"""
  member = 3</p>
<p>def sum2(self, a, b):
    """Sum two numbers"""
    return a + b</p>
<p>def sum3(self, a, b, c):
    """Sum three numbers"""
    return a + b + c</p>
<p>if <strong>name</strong> == '<strong>main</strong>':
  methods = [f for f in dir(Sum) if callable(getattr(Sum, f))]
  docs = '\n'.join(["%s %s" % (f, getattr(Sum, f).<strong>doc</strong>) for f in methods])
  print docs
```</p>
<p>And run it:
<code>bash
$ python ./sum.py
sum2 Sum two numbers
sum3 Sum three numbers</code></p>
<ul>
<li>The "and-or trick"</li>
</ul>
<p><code>python
is_mammal = use_rpc and remote_check_is_mammal(animal) or DEFAULT_IS_MAMMAL</code></p>
<p>That's like <code>?:</code> in C++. I think I did well with creating a good example here :).</p>
<h3 id="chapter-5-objects-and-object-orientation">Chapter 5 (Objects and Object-Orientation)</h3>
<ul>
<li><code>var1 is var2</code> checks for object identity. Here's a good <a href="http://stackoverflow.com/questions/13650293/understanding-pythons-is-operator">stackoverflow</a> article that gives examples.</li>
<li>You can change a class variable using <code>self.__class__.variable_name = new_value</code>.</li>
<li>You can create your own dictionary by inheriting from <code>UserDict</code>.</li>
<li>If you call <code>x["hello"] = 3</code>, this calls the <code>__setitem__</code> method. There are other similar methods, like <code>__getitem__</code>, etc.</li>
</ul>
<h3 id="chapter-6-exceptions-and-file-handling">Chapter 6 (Exceptions and file handling)</h3>
<ul>
<li>You can use <code>else</code> in exceptions code. Like this:
```python
class RPC:
  def remote_call(self):
    pass</li>
</ul>
<p>def find_function(name):
  try:
    a = getattr(RPC, name)
  except AttributeError:
    print 'No such function.'
  else:
    print 'Function was found.'
  finally:
    print 'Enough lookups.'
    print</p>
<p>find_function('func')
find_function('remote_call')
```</p>
<p>Output:
```bash
python ./ex.py 
No such function.
Enough lookups.</p>
<p>Function was found.
Enough lookups.
```</p>
<ul>
<li>When you open a file, you have a variety of functions and attributes on the file object, like <code>seek</code>, <code>read</code>, <code>mode</code>, <code>name</code>. For example, to see how big a file is you can just call <code>f.seek(0, 2)</code> to seek until the end and then <code>f.tell()</code> to output the number of bytes.</li>
<li>A class' module is accessible by calling <code>ClassName.__module__</code>. All imported modules are in the <code>sys.modules</code> dictionary. Example:</li>
</ul>
<p>```python</p>
<blockquote>
<blockquote>
<blockquote>
<p>from sum import Sum
import sys
sys.modules[Sum.<strong>module</strong>]
<module 'sum' from 'sum.py'>
getattr(sys.modules[Sum.<strong>module</strong>], 'Sum')
<class sum.Sum at 0x109535a10>
```</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="chapter-7-regular-expressions">Chapter 7 (Regular Expressions)</h3>
<ul>
<li><code>\\b</code> matches a word boundary. This can be so useful.</li>
<li>Verbose regular expressions. Again, very useful. Example:</li>
</ul>
<p>```python
import re</p>
<p>raw_regex = r"""
  (\d{3})
  \D<em>
  (\d{3})
  \D</em>
  (\d{4})
"""</p>
<p>examples = [
  "4153125633",
  "415-312-5633",
  "415 312 5633",
  "work 415 312 5633",
  "(415) - 312 - 5633",
  "1 415 312 5633",
]</p>
<p>phone_re = re.compile(raw_regex, re.VERBOSE)</p>
<p>for example in examples:
  groups = phone_re.search(example).groups()
  assert groups == ('415', '312', '5633')
```</p>
    </div><!-- /.entry-content -->
    <div class="comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'pminkov-blog';
        var disqus_identifier = 'what-i-learned-from-reading-dive-into-python.html';
        var disqus_url = 'http://pminkov.github.io/blog/what-i-learned-from-reading-dive-into-python.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//pminkov-blog.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://pminkov.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <!--
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                  Blah blha blah
                </address>
        </footer>
        -->
        <!-- /#contentinfo -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-243631-7', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript">
    var disqus_shortname = 'pminkov-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>